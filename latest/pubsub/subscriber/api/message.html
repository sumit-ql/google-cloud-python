
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Messages &#8212; google-cloud e9a5347 documentation</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     'e9a5347',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Pub/Sub Client Types" href="../../types.html" />
    <link rel="prev" title="Subscriptions" href="policy.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="messages">
<h1>Messages<a class="headerlink" href="#messages" title="Permalink to this headline">#</a></h1>
<dl class="class">
<dt id="google.cloud.pubsub_v1.subscriber.message.Message">
<em class="property">class </em><code class="descclassname">google.cloud.pubsub_v1.subscriber.message.</code><code class="descname">Message</code><span class="sig-paren">(</span><em>message</em>, <em>ack_id</em>, <em>request_queue</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/google/cloud/pubsub_v1/subscriber/message.html#Message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.pubsub_v1.subscriber.message.Message" title="Permalink to this definition">#</a></dt>
<dd><p>A representation of a single Pub/Sub message.</p>
<p>The common way to interact with
<a class="reference internal" href="#google.cloud.pubsub_v1.subscriber.message.Message" title="google.cloud.pubsub_v1.subscriber.message.Message"><code class="xref py py-class docutils literal"><span class="pre">Message</span></code></a> objects is to receive
them in callbacks on subscriptions; most users should never have a need
to instantiate them by hand. (The exception to this is if you are
implementing a custom subclass to
<code class="xref py py-class docutils literal"><span class="pre">Consumer</span></code>.)</p>
<dl class="attribute">
<dt id="google.cloud.pubsub_v1.subscriber.message.Message.message_id">
<code class="descname">message_id</code><a class="headerlink" href="#google.cloud.pubsub_v1.subscriber.message.Message.message_id" title="Permalink to this definition">#</a></dt>
<dd><p><em>str</em> – The message ID. In general, you should not need
to use this directly.</p>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.pubsub_v1.subscriber.message.Message.data">
<code class="descname">data</code><a class="headerlink" href="#google.cloud.pubsub_v1.subscriber.message.Message.data" title="Permalink to this definition">#</a></dt>
<dd><p><em>bytes</em> – The data in the message. Note that this will be a
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">bytes</span></code></a>, not a text string.</p>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.pubsub_v1.subscriber.message.Message.attributes">
<code class="descname">attributes</code><a class="headerlink" href="#google.cloud.pubsub_v1.subscriber.message.Message.attributes" title="Permalink to this definition">#</a></dt>
<dd><p><em>.ScalarMapContainer</em> – The attributes sent along with the
message. See <a class="reference internal" href="#google.cloud.pubsub_v1.subscriber.message.Message.attributes" title="google.cloud.pubsub_v1.subscriber.message.Message.attributes"><code class="xref py py-attr docutils literal"><span class="pre">attributes</span></code></a> for more information on this type.</p>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.pubsub_v1.subscriber.message.Message.publish_time">
<code class="descname">publish_time</code><a class="headerlink" href="#google.cloud.pubsub_v1.subscriber.message.Message.publish_time" title="Permalink to this definition">#</a></dt>
<dd><p><em>datetime</em> – The time that this message was originally
published.</p>
</dd></dl>

<p>Construct the Message.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This class should not be constructed directly; it is the
responsibility of <code class="xref py py-class docutils literal"><span class="pre">BasePolicy</span></code> subclasses to do so.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>message</strong> (<em>PubsubMessage</em>) – The message received
from Pub/Sub.</li>
<li><strong>ack_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – The ack_id received from Pub/Sub.</li>
<li><strong>request_queue</strong> (<a class="reference external" href="https://docs.python.org/3/library/queue.html#queue.Queue" title="(in Python v3.6)"><em>queue.Queue</em></a>) – A queue provided by the policy that
can accept requests; the policy is responsible for handling
those requests.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="google.cloud.pubsub_v1.subscriber.message.Message.ack">
<code class="descname">ack</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/google/cloud/pubsub_v1/subscriber/message.html#Message.ack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.pubsub_v1.subscriber.message.Message.ack" title="Permalink to this definition">#</a></dt>
<dd><p>Acknowledge the given message.</p>
<p>Acknowledging a message in Pub/Sub means that you are done
with it, and it will not be delivered to this subscription again.
You should avoid acknowledging messages until you have
<em>finished</em> processing them, so that in the event of a failure,
you receive the message again.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Acks in Pub/Sub are best effort. You should always
ensure that your processing code is idempotent, as you may
receive any given message more than once.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">attributes</code></dt>
<dd><p>Return the attributes of the underlying Pub/Sub Message.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">A <code class="docutils literal"><span class="pre">ScalarMapContainer</span></code> behaves slightly differently than a
<code class="docutils literal"><span class="pre">dict</span></code>. For a Pub / Sub message this is a <code class="docutils literal"><span class="pre">string-&gt;string</span></code> map.
When trying to access a value via <code class="docutils literal"><span class="pre">map['key']</span></code>, if the key is
not in the map, then the default value for the string type will
be returned, which is an empty string. It may be more intuitive
to just cast the map to a <code class="docutils literal"><span class="pre">dict</span></code> or to one use <code class="docutils literal"><span class="pre">map.get</span></code>.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The message’s attributes. This is a
<code class="docutils literal"><span class="pre">dict</span></code>-like object provided by <code class="docutils literal"><span class="pre">google.protobuf</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">ScalarMapContainer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">data</code></dt>
<dd><p>Return the data for the underlying Pub/Sub Message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>The message data. This is always a bytestring; if you</dt>
<dd>want a text string, call <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes.decode" title="(in Python v3.6)"><code class="xref py py-meth docutils literal"><span class="pre">bytes.decode()</span></code></a>.</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.6)">bytes</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.pubsub_v1.subscriber.message.Message.nack">
<code class="descname">nack</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/google/cloud/pubsub_v1/subscriber/message.html#Message.nack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.pubsub_v1.subscriber.message.Message.nack" title="Permalink to this definition">#</a></dt>
<dd><p>Decline to acknowldge the given message.</p>
<p>This will cause the message to be re-delivered to the subscription.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">publish_time</code></dt>
<dd><p>Return the time that the message was originally published.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The date and time that the message was published.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#module-datetime" title="(in Python v3.6)">datetime</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">google-cloud</a></h1>



<p class="blurb">Google Cloud Client Libraries for Python</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=GoogleCloudPlatform&repo=google-cloud-python&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../releases.html"><code class="docutils literal"><span class="pre">google-cloud</span></code> Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../core/index.html">Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bigquery/usage.html">BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bigquery_datatransfer/index.html">Python Client for BigQuery Data Transfer API (Alpha)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bigtable/usage.html">Bigtable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../container/index.html">Python Client for Google Container Engine API (Beta)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dataproc/index.html">Python Client for Google Cloud Dataproc API (Alpha)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datastore/usage.html">Datastore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dns/usage.html">DNS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../firestore/index.html">Firestore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../language/usage.html">Natural Language</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Pub/Sub</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../index.html#authentication-and-configuration">Authentication and Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#publishing">Publishing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#subscribing">Subscribing</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#learn-more">Learn More</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../resource-manager/api.html">Resource Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../runtimeconfig/usage.html">Runtimeconfig</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../spanner/usage.html">Spanner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../speech/index.html">Speech</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../error-reporting/usage.html">Stackdriver Error Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../monitoring/usage.html">Stackdriver Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../logging/usage.html">Stackdriver Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../storage/client.html">Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../translate/usage.html">Translation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../vision/index.html">Vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../videointelligence/index.html">Video Intelligence</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Pub/Sub</a><ul>
  <li><a href="../index.html">Subscribing to Messages</a><ul>
      <li>Previous: <a href="policy.html" title="previous chapter">Subscriptions</a></li>
      <li>Next: <a href="../../types.html" title="next chapter">Pub/Sub Client Types</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014-2017, Google.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../../../_sources/pubsub/subscriber/api/message.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/GoogleCloudPlatform/google-cloud-python" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>