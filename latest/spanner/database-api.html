
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Database API &#8212; google-cloud 190e148 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '190e148',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Session API" href="session-api.html" />
    <link rel="prev" title="Instance API" href="instance-api.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-google.cloud.spanner_v1.database">
<span id="database-api"></span><h1>Database API<a class="headerlink" href="#module-google.cloud.spanner_v1.database" title="Permalink to this headline">#</a></h1>
<p>User friendly container for Cloud Spanner Database.</p>
<dl class="class">
<dt id="google.cloud.spanner_v1.database.BatchCheckout">
<em class="property">class </em><code class="descclassname">google.cloud.spanner_v1.database.</code><code class="descname">BatchCheckout</code><span class="sig-paren">(</span><em>database</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/spanner_v1/database.html#BatchCheckout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.spanner_v1.database.BatchCheckout" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Context manager for using a batch from a database.</p>
<p>Inside the context manager, checks out a session from the database,
creates a batch from it, making the batch available.</p>
<p>Caller must <em>not</em> use the batch to perform API requests outside the scope
of the context manager.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>database</strong> (<code class="xref py py-class docutils literal"><span class="pre">Database</span></code>) – database to use</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="google.cloud.spanner_v1.database.Database">
<em class="property">class </em><code class="descclassname">google.cloud.spanner_v1.database.</code><code class="descname">Database</code><span class="sig-paren">(</span><em>database_id</em>, <em>instance</em>, <em>ddl_statements=()</em>, <em>pool=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/spanner_v1/database.html#Database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.spanner_v1.database.Database" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Representation of a Cloud Spanner Database.</p>
<p>We can use a <a class="reference internal" href="#google.cloud.spanner_v1.database.Database" title="google.cloud.spanner_v1.database.Database"><code class="xref py py-class docutils literal"><span class="pre">Database</span></code></a> to:</p>
<ul class="simple">
<li><a class="reference internal" href="#google.cloud.spanner_v1.database.Database.create" title="google.cloud.spanner_v1.database.Database.create"><code class="xref py py-meth docutils literal"><span class="pre">create()</span></code></a> the database</li>
<li><a class="reference internal" href="#google.cloud.spanner_v1.database.Database.reload" title="google.cloud.spanner_v1.database.Database.reload"><code class="xref py py-meth docutils literal"><span class="pre">reload()</span></code></a> the database</li>
<li><code class="xref py py-meth docutils literal"><span class="pre">update()</span></code> the database</li>
<li><a class="reference internal" href="#google.cloud.spanner_v1.database.Database.drop" title="google.cloud.spanner_v1.database.Database.drop"><code class="xref py py-meth docutils literal"><span class="pre">drop()</span></code></a> the database</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>database_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – The ID of the database.</li>
<li><strong>instance</strong> (<a class="reference internal" href="instance-api.html#google.cloud.spanner_v1.instance.Instance" title="google.cloud.spanner_v1.instance.Instance"><code class="xref py py-class docutils literal"><span class="pre">Instance</span></code></a>) – The instance that owns the database.</li>
<li><strong>ddl_statements</strong> (<em>list of string</em>) – (Optional) DDL statements, excluding the
CREATE DATABASE statement.</li>
<li><strong>pool</strong> (concrete subclass of
<a class="reference internal" href="session-api.html#google.cloud.spanner_v1.pool.AbstractSessionPool" title="google.cloud.spanner_v1.pool.AbstractSessionPool"><code class="xref py py-class docutils literal"><span class="pre">AbstractSessionPool</span></code></a>.) – (Optional) session pool to be used by database.  If not
passed, the database will construct an instance of
<a class="reference internal" href="session-api.html#google.cloud.spanner_v1.pool.BurstyPool" title="google.cloud.spanner_v1.pool.BurstyPool"><code class="xref py py-class docutils literal"><span class="pre">BurstyPool</span></code></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="google.cloud.spanner_v1.database.Database.batch">
<code class="descname">batch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/spanner_v1/database.html#Database.batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.spanner_v1.database.Database.batch" title="Permalink to this definition">#</a></dt>
<dd><p>Return an object which wraps a batch.</p>
<p>The wrapper <em>must</em> be used as a context manager, with the batch
as the value returned by the wrapper.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#google.cloud.spanner_v1.database.BatchCheckout" title="google.cloud.spanner_v1.database.BatchCheckout"><code class="xref py py-class docutils literal"><span class="pre">BatchCheckout</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">new wrapper</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.spanner_v1.database.Database.create">
<code class="descname">create</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/spanner_v1/database.html#Database.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.spanner_v1.database.Database.create" title="Permalink to this definition">#</a></dt>
<dd><p>Create this database within its instance</p>
<p>Inclues any configured schema assigned to <a class="reference internal" href="#google.cloud.spanner_v1.database.Database.ddl_statements" title="google.cloud.spanner_v1.database.Database.ddl_statements"><code class="xref py py-attr docutils literal"><span class="pre">ddl_statements</span></code></a>.</p>
<p>See
<a class="reference external" href="https://cloud.google.com/spanner/reference/rpc/google.spanner.admin.database.v1#google.spanner.admin.database.v1.DatabaseAdmin.CreateDatabase">https://cloud.google.com/spanner/reference/rpc/google.spanner.admin.database.v1#google.spanner.admin.database.v1.DatabaseAdmin.CreateDatabase</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="../core/operation.html#google.api_core.operation.Operation" title="google.api_core.operation.Operation"><code class="xref py py-class docutils literal"><span class="pre">Operation</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a future used to poll the status of the create request</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="../core/exceptions.html#google.api_core.exceptions.Conflict" title="google.api_core.exceptions.Conflict"><strong>Conflict</strong></a> – if the database already exists</li>
<li><a class="reference internal" href="../core/exceptions.html#google.api_core.exceptions.NotFound" title="google.api_core.exceptions.NotFound"><strong>NotFound</strong></a> – if the instance owning the database does not exist</li>
<li><strong>GaxError</strong> – for errors other than <code class="docutils literal"><span class="pre">ALREADY_EXISTS</span></code> returned from the call</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.spanner_v1.database.Database.ddl_statements">
<code class="descname">ddl_statements</code><a class="headerlink" href="#google.cloud.spanner_v1.database.Database.ddl_statements" title="Permalink to this definition">#</a></dt>
<dd><p>DDL Statements used to define database schema.</p>
<p>See
cloud.google.com/spanner/docs/data-definition-language</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">sequence of string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the statements</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.spanner_v1.database.Database.drop">
<code class="descname">drop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/spanner_v1/database.html#Database.drop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.spanner_v1.database.Database.drop" title="Permalink to this definition">#</a></dt>
<dd><p>Drop this database.</p>
<p>See
<a class="reference external" href="https://cloud.google.com/spanner/reference/rpc/google.spanner.admin.database.v1#google.spanner.admin.database.v1.DatabaseAdmin.DropDatabase">https://cloud.google.com/spanner/reference/rpc/google.spanner.admin.database.v1#google.spanner.admin.database.v1.DatabaseAdmin.DropDatabase</a></p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.spanner_v1.database.Database.exists">
<code class="descname">exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/spanner_v1/database.html#Database.exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.spanner_v1.database.Database.exists" title="Permalink to this definition">#</a></dt>
<dd><p>Test whether this database exists.</p>
<p>See
<a class="reference external" href="https://cloud.google.com/spanner/reference/rpc/google.spanner.admin.database.v1#google.spanner.admin.database.v1.DatabaseAdmin.GetDatabaseDDL">https://cloud.google.com/spanner/reference/rpc/google.spanner.admin.database.v1#google.spanner.admin.database.v1.DatabaseAdmin.GetDatabaseDDL</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)">bool</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the database exists, else false.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>GaxError</strong> – for errors other than <code class="docutils literal"><span class="pre">NOT_FOUND</span></code> returned from the call</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="google.cloud.spanner_v1.database.Database.from_pb">
<em class="property">classmethod </em><code class="descname">from_pb</code><span class="sig-paren">(</span><em>database_pb</em>, <em>instance</em>, <em>pool=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/spanner_v1/database.html#Database.from_pb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.spanner_v1.database.Database.from_pb" title="Permalink to this definition">#</a></dt>
<dd><p>Creates an instance of this class from a protobuf.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>database_pb</strong> (<code class="xref py py-class docutils literal"><span class="pre">google.spanner.v2.spanner_instance_admin_pb2.Instance</span></code>) – A instance protobuf object.</li>
<li><strong>instance</strong> (<a class="reference internal" href="instance-api.html#google.cloud.spanner_v1.instance.Instance" title="google.cloud.spanner_v1.instance.Instance"><code class="xref py py-class docutils literal"><span class="pre">Instance</span></code></a>) – The instance that owns the database.</li>
<li><strong>pool</strong> (concrete subclass of
<a class="reference internal" href="session-api.html#google.cloud.spanner_v1.pool.AbstractSessionPool" title="google.cloud.spanner_v1.pool.AbstractSessionPool"><code class="xref py py-class docutils literal"><span class="pre">AbstractSessionPool</span></code></a>.) – (Optional) session pool to be used by database.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#google.cloud.spanner_v1.database.Database" title="google.cloud.spanner_v1.database.Database"><code class="xref py py-class docutils literal"><span class="pre">Database</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The database parsed from the protobuf response.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.6)"><strong>ValueError</strong></a> – if the instance name does not match the expected format
or if the parsed project ID does not match the project ID
on the instance’s client, or if the parsed instance ID does
not match the instance’s ID.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.spanner_v1.database.Database.name">
<code class="descname">name</code><a class="headerlink" href="#google.cloud.spanner_v1.database.Database.name" title="Permalink to this definition">#</a></dt>
<dd><p>Database name used in requests.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This property will not change if <code class="docutils literal"><span class="pre">database_id</span></code> does not, but the
return value is not cached.</p>
</div>
<p>The database name is of the form</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">&quot;projects/../instances/../databases/{database_id}&quot;</span></code></div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)">str</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The database name.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.spanner_v1.database.Database.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/spanner_v1/database.html#Database.reload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.spanner_v1.database.Database.reload" title="Permalink to this definition">#</a></dt>
<dd><p>Reload this database.</p>
<p>Refresh any configured schema into <a class="reference internal" href="#google.cloud.spanner_v1.database.Database.ddl_statements" title="google.cloud.spanner_v1.database.Database.ddl_statements"><code class="xref py py-attr docutils literal"><span class="pre">ddl_statements</span></code></a>.</p>
<p>See
<a class="reference external" href="https://cloud.google.com/spanner/reference/rpc/google.spanner.admin.database.v1#google.spanner.admin.database.v1.DatabaseAdmin.GetDatabaseDDL">https://cloud.google.com/spanner/reference/rpc/google.spanner.admin.database.v1#google.spanner.admin.database.v1.DatabaseAdmin.GetDatabaseDDL</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="../core/exceptions.html#google.api_core.exceptions.NotFound" title="google.api_core.exceptions.NotFound"><strong>NotFound</strong></a> – if the database does not exist</li>
<li><strong>GaxError</strong> – for errors other than <code class="docutils literal"><span class="pre">NOT_FOUND</span></code> returned from the call</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.spanner_v1.database.Database.run_in_transaction">
<code class="descname">run_in_transaction</code><span class="sig-paren">(</span><em>func</em>, <em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/spanner_v1/database.html#Database.run_in_transaction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.spanner_v1.database.Database.run_in_transaction" title="Permalink to this definition">#</a></dt>
<dd><p>Perform a unit of work in a transaction, retrying on abort.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#callable" title="(in Python v3.6)"><em>callable</em></a>) – takes a required positional argument, the transaction,
and additional positional / keyword arguments as supplied
by the caller.</li>
<li><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.6)"><em>tuple</em></a>) – additional positional arguments to be passed to <code class="docutils literal"><span class="pre">func</span></code>.</li>
<li><strong>kw</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – optional keyword arguments to be passed to <code class="docutils literal"><span class="pre">func</span></code>.
If passed, “timeout_secs” will be removed and used to
override the default timeout.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">timestamp of committed transaction</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.spanner_v1.database.Database.session">
<code class="descname">session</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/spanner_v1/database.html#Database.session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.spanner_v1.database.Database.session" title="Permalink to this definition">#</a></dt>
<dd><p>Factory to create a session for this database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="session-api.html#google.cloud.spanner_v1.session.Session" title="google.cloud.spanner_v1.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a session bound to this database.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="google.cloud.spanner_v1.database.Database.snapshot">
<code class="descname">snapshot</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/spanner_v1/database.html#Database.snapshot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.spanner_v1.database.Database.snapshot" title="Permalink to this definition">#</a></dt>
<dd><p>Return an object which wraps a snapshot.</p>
<p>The wrapper <em>must</em> be used as a context manager, with the snapshot
as the value returned by the wrapper.</p>
<p>See
<a class="reference external" href="https://cloud.google.com/spanner/reference/rpc/google.spanner.v1#google.spanner.v1.TransactionOptions.ReadOnly">https://cloud.google.com/spanner/reference/rpc/google.spanner.v1#google.spanner.v1.TransactionOptions.ReadOnly</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kw</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – Passed through to
<a class="reference internal" href="snapshot-api.html#google.cloud.spanner_v1.snapshot.Snapshot" title="google.cloud.spanner_v1.snapshot.Snapshot"><code class="xref py py-class docutils literal"><span class="pre">Snapshot</span></code></a> constructor.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#google.cloud.spanner_v1.database.SnapshotCheckout" title="google.cloud.spanner_v1.database.SnapshotCheckout"><code class="xref py py-class docutils literal"><span class="pre">SnapshotCheckout</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">new wrapper</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.spanner_v1.database.Database.spanner_api">
<code class="descname">spanner_api</code><a class="headerlink" href="#google.cloud.spanner_v1.database.Database.spanner_api" title="Permalink to this definition">#</a></dt>
<dd><p>Helper for session-related API calls.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.spanner_v1.database.Database.update_ddl">
<code class="descname">update_ddl</code><span class="sig-paren">(</span><em>ddl_statements</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/spanner_v1/database.html#Database.update_ddl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.spanner_v1.database.Database.update_ddl" title="Permalink to this definition">#</a></dt>
<dd><p>Update DDL for this database.</p>
<p>Apply any configured schema from <a class="reference internal" href="#google.cloud.spanner_v1.database.Database.ddl_statements" title="google.cloud.spanner_v1.database.Database.ddl_statements"><code class="xref py py-attr docutils literal"><span class="pre">ddl_statements</span></code></a>.</p>
<p>See
<a class="reference external" href="https://cloud.google.com/spanner/reference/rpc/google.spanner.admin.database.v1#google.spanner.admin.database.v1.DatabaseAdmin.UpdateDatabase">https://cloud.google.com/spanner/reference/rpc/google.spanner.admin.database.v1#google.spanner.admin.database.v1.DatabaseAdmin.UpdateDatabase</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="../core/operation.html#google.api_core.operation.Operation" title="google.api_core.operation.Operation"><code class="xref py py-class docutils literal"><span class="pre">google.api_core.operation.Operation</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">an operation instance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="../core/exceptions.html#google.api_core.exceptions.NotFound" title="google.api_core.exceptions.NotFound"><strong>NotFound</strong></a> – if the database does not exist</li>
<li><strong>GaxError</strong> – for errors other than <code class="docutils literal"><span class="pre">NOT_FOUND</span></code> returned from the call</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.spanner_v1.database.SnapshotCheckout">
<em class="property">class </em><code class="descclassname">google.cloud.spanner_v1.database.</code><code class="descname">SnapshotCheckout</code><span class="sig-paren">(</span><em>database</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/cloud/spanner_v1/database.html#SnapshotCheckout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.spanner_v1.database.SnapshotCheckout" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Context manager for using a snapshot from a database.</p>
<p>Inside the context manager, checks out a session from the database,
creates a snapshot from it, making the snapshot available.</p>
<p>Caller must <em>not</em> use the snapshot to perform API requests outside the
scope of the context manager.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>database</strong> (<code class="xref py py-class docutils literal"><span class="pre">Database</span></code>) – database to use</li>
<li><strong>kw</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – Passed through to
<a class="reference internal" href="snapshot-api.html#google.cloud.spanner_v1.snapshot.Snapshot" title="google.cloud.spanner_v1.snapshot.Snapshot"><code class="xref py py-class docutils literal"><span class="pre">Snapshot</span></code></a> constructor.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">google-cloud</a></h1>



<p class="blurb">Google Cloud Client Libraries for Python</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=GoogleCloudPlatform&repo=google-cloud-python&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../releases.html"><code class="docutils literal"><span class="pre">google-cloud</span></code> Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/index.html">Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bigquery/usage.html">BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bigquery_datatransfer/index.html">Python Client for BigQuery Data Transfer API (Alpha)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bigtable/usage.html">Bigtable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container/index.html">Python Client for Google Container Engine API (Beta)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataproc/index.html">Python Client for Google Cloud Dataproc API (Alpha)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datastore/usage.html">Datastore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dns/usage.html">DNS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../firestore/index.html">Firestore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/usage.html">Natural Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pubsub/index.html">Pub/Sub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resource-manager/api.html">Resource Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../runtimeconfig/usage.html">Runtimeconfig</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="usage.html">Spanner</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="releases.html"><code class="docutils literal"><span class="pre">google-cloud-spanner</span></code> Releases</a></li>
<li class="toctree-l2"><a class="reference internal" href="instance-usage.html">Instance Admin</a></li>
<li class="toctree-l2"><a class="reference internal" href="database-usage.html">Database Admin</a></li>
<li class="toctree-l2"><a class="reference internal" href="database-usage.html#non-admin-database-usage">Non-Admin Database Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="batch-usage.html">Batching Modifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="snapshot-usage.html">Read-only Transactions via Snapshots</a></li>
<li class="toctree-l2"><a class="reference internal" href="transaction-usage.html">Read-write Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced-session-pool-topics.html">Advanced Session Pool Topics</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="api-reference.html">API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#spanner-client">Spanner Client</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../speech/index.html">Speech</a></li>
<li class="toctree-l1"><a class="reference internal" href="../error-reporting/usage.html">Stackdriver Error Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../monitoring/usage.html">Stackdriver Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logging/usage.html">Stackdriver Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/client.html">Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../translate/usage.html">Translation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vision/index.html">Vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../videointelligence/index.html">Video Intelligence</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="usage.html">Spanner</a><ul>
  <li><a href="api-reference.html">API Reference</a><ul>
      <li>Previous: <a href="instance-api.html" title="previous chapter">Instance API</a></li>
      <li>Next: <a href="session-api.html" title="next chapter">Session API</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014-2017, Google.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/spanner/database-api.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/GoogleCloudPlatform/google-cloud-python" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>