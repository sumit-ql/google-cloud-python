
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Natural Language &#8212; google-cloud 0.26.2 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.26.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Natural Language Client" href="client.html" />
    <link rel="prev" title="Change Sets" href="../dns/changes.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="natural-language">
<h1>Natural Language<a class="headerlink" href="#natural-language" title="Permalink to this headline">#</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>The <a class="reference external" href="https://cloud.google.com/natural-language/docs/getting-started">Google Natural Language</a> API can be used to reveal the
structure and meaning of text via powerful machine
learning models. You can use it to extract information about
people, places, events and much more, mentioned in text documents,
news articles or blog posts. You can use it to understand
sentiment about your product on social media or parse intent from
customer conversations happening in a call center or a messaging
app. You can analyze text uploaded in your request or integrate
with your document storage on Google Cloud Storage.</p>
<div class="section" id="client">
<h2>Client<a class="headerlink" href="#client" title="Permalink to this headline">#</a></h2>
<p><a class="reference internal" href="client.html#google.cloud.language.client.Client" title="google.cloud.language.client.Client"><code class="xref py py-class docutils literal"><span class="pre">Client</span></code></a> objects provide a
means to configure your application. Each instance holds
an authenticated connection to the Natural Language service.</p>
<p>For an overview of authentication in <code class="docutils literal"><span class="pre">google-cloud-python</span></code>, see
<a class="reference internal" href="../core/auth.html"><span class="doc">Authentication</span></a>.</p>
<p>Assuming your environment is set up as described in that document,
create an instance of <a class="reference internal" href="client.html#google.cloud.language.client.Client" title="google.cloud.language.client.Client"><code class="xref py py-class docutils literal"><span class="pre">Client</span></code></a>.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">google.cloud</span> <span class="kn">import</span> <span class="n">language</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">language</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
<p>By default the <code class="docutils literal"><span class="pre">language</span></code> is <code class="docutils literal"><span class="pre">'en-US'</span></code> and the <code class="docutils literal"><span class="pre">encoding</span></code> is
UTF-8. To over-ride these values:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">document</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">document_from_text</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">text_content</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="s1">&#39;es&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">language</span><span class="o">.</span><span class="n">Encoding</span><span class="o">.</span><span class="n">UTF16</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>The encoding can be one of
<a class="reference internal" href="document.html#google.cloud.language.document.Encoding.UTF8" title="google.cloud.language.document.Encoding.UTF8"><code class="xref py py-attr docutils literal"><span class="pre">Encoding.UTF8</span></code></a>,
<a class="reference internal" href="document.html#google.cloud.language.document.Encoding.UTF16" title="google.cloud.language.document.Encoding.UTF16"><code class="xref py py-attr docutils literal"><span class="pre">Encoding.UTF16</span></code></a>, or
<a class="reference internal" href="document.html#google.cloud.language.document.Encoding.UTF32" title="google.cloud.language.document.Encoding.UTF32"><code class="xref py py-attr docutils literal"><span class="pre">Encoding.UTF32</span></code></a>.</p>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">#</a></h2>
<p>The Google Natural Language API has three supported methods</p>
<ul class="simple">
<li><a class="reference external" href="https://cloud.google.com/natural-language/docs/reference/rest/v1beta1/documents/analyzeEntities">analyzeEntities</a></li>
<li><a class="reference external" href="https://cloud.google.com/natural-language/docs/reference/rest/v1beta1/documents/analyzeSentiment">analyzeSentiment</a></li>
<li><a class="reference external" href="https://cloud.google.com/natural-language/docs/reference/rest/v1beta1/documents/annotateText">annotateText</a></li>
</ul>
<p>and each method uses a <a class="reference external" href="https://cloud.google.com/natural-language/reference/rest/v1beta1/Document">Document</a> for representing text. To
create a <a class="reference internal" href="document.html#google.cloud.language.document.Document" title="google.cloud.language.document.Document"><code class="xref py py-class docutils literal"><span class="pre">Document</span></code></a>,</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">text_content</span> <span class="o">=</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Google, headquartered in Mountain View, unveiled the &#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;new Android phone at the Consumer Electronic Show.  &#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;Sundar Pichai said in his keynote that users love &#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;their new Android phones.&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">document_from_text</span><span class="p">(</span><span class="n">text_content</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>By using <a class="reference internal" href="client.html#google.cloud.language.client.Client.document_from_text" title="google.cloud.language.client.Client.document_from_text"><code class="xref py py-meth docutils literal"><span class="pre">document_from_text()</span></code></a>,
the document’s type is plain text:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">doc_type</span> <span class="o">==</span> <span class="n">language</span><span class="o">.</span><span class="n">Document</span><span class="o">.</span><span class="n">PLAIN_TEXT</span>
<span class="go">True</span>
</pre></div>
</div>
</div></blockquote>
<p>The document’s language defaults to <code class="docutils literal"><span class="pre">None</span></code>, which will cause the API to
auto-detect the language.</p>
<p>In addition, the
<a class="reference internal" href="client.html#google.cloud.language.client.Client.document_from_html" title="google.cloud.language.client.Client.document_from_html"><code class="xref py py-meth docutils literal"><span class="pre">document_from_html()</span></code></a>,
factory can be used to created an HTML document. In this
method and the from text method, the language can be
over-ridden:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">html_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="gp">... </span><span class="s2">&lt;html&gt;</span>
<span class="gp">... </span><span class="s2">  &lt;head&gt;</span>
<span class="gp">... </span><span class="s2">    &lt;title&gt;El Tiempo de las Historias&lt;/time&gt;</span>
<span class="gp">... </span><span class="s2">  &lt;/head&gt;</span>
<span class="gp">... </span><span class="s2">  &lt;body&gt;</span>
<span class="gp">... </span><span class="s2">    &lt;p&gt;La vaca salt&amp;oacute; sobre la luna.&lt;/p&gt;</span>
<span class="gp">... </span><span class="s2">  &lt;/body&gt;</span>
<span class="gp">... </span><span class="s2">&lt;/html&gt;</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">document_from_html</span><span class="p">(</span><span class="n">html_content</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="n">language</span><span class="o">=</span><span class="s1">&#39;es&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>The <code class="docutils literal"><span class="pre">language</span></code> argument can be either ISO-639-1 or BCP-47 language
codes; at the time, only English, Spanish, and Japanese <a class="reference external" href="https://cloud.google.com/natural-language/docs/">are supported</a>.
However, the <code class="docutils literal"><span class="pre">analyzeSentiment</span></code> method <a class="reference external" href="https://cloud.google.com/natural-language/docs/reference/rest/v1beta1/documents/analyzeSentiment#body.request_body.FIELDS.document">only supports</a> English text.</p>
<p>The document type (<code class="docutils literal"><span class="pre">doc_type</span></code>) value can be one of
<a class="reference internal" href="document.html#google.cloud.language.document.Document.PLAIN_TEXT" title="google.cloud.language.document.Document.PLAIN_TEXT"><code class="xref py py-attr docutils literal"><span class="pre">Document.PLAIN_TEXT</span></code></a> or
<a class="reference internal" href="document.html#google.cloud.language.document.Document.HTML" title="google.cloud.language.document.Document.HTML"><code class="xref py py-attr docutils literal"><span class="pre">Document.HTML</span></code></a>.</p>
<p>In addition to supplying the text / HTML content, a document can refer
to content stored in <a class="reference external" href="https://cloud.google.com/storage/">Google Cloud Storage</a>. We can use the
<a class="reference internal" href="client.html#google.cloud.language.client.Client.document_from_url" title="google.cloud.language.client.Client.document_from_url"><code class="xref py py-meth docutils literal"><span class="pre">document_from_url()</span></code></a> method:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gcs_url</span> <span class="o">=</span> <span class="s1">&#39;gs://my-text-bucket/sentiment-me.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">document_from_url</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">gcs_url</span><span class="p">,</span> <span class="n">doc_type</span><span class="o">=</span><span class="n">language</span><span class="o">.</span><span class="n">Document</span><span class="o">.</span><span class="n">HTML</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">gcs_url</span> <span class="o">==</span> <span class="n">gcs_url</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">doc_type</span> <span class="o">==</span> <span class="n">language</span><span class="o">.</span><span class="n">Document</span><span class="o">.</span><span class="n">PLAIN_TEXT</span>
<span class="go">True</span>
</pre></div>
</div>
</div></blockquote>
<p>The document type can be specified with the <code class="docutils literal"><span class="pre">doc_type</span></code> argument:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">document</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">document_from_url</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">gcs_url</span><span class="p">,</span> <span class="n">doc_type</span><span class="o">=</span><span class="n">language</span><span class="o">.</span><span class="n">Document</span><span class="o">.</span><span class="n">HTML</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="analyze-entities">
<h2>Analyze Entities<a class="headerlink" href="#analyze-entities" title="Permalink to this headline">#</a></h2>
<p>The <a class="reference internal" href="document.html#google.cloud.language.document.Document.analyze_entities" title="google.cloud.language.document.Document.analyze_entities"><code class="xref py py-meth docutils literal"><span class="pre">analyze_entities()</span></code></a> method
finds named entities (i.e. proper names) in the text and returns them
as a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">list</span></code></a> of <a class="reference internal" href="responses.html#google.cloud.language.entity.Entity" title="google.cloud.language.entity.Entity"><code class="xref py py-class docutils literal"><span class="pre">Entity</span></code></a> objects.
Each entity has a corresponding type, salience (prominence), associated
metadata and other properties.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">text_content</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Michelangelo Caravaggio, Italian painter, is &quot;</span>
<span class="gp">... </span>                <span class="s2">&quot;known for &#39;The Calling of Saint Matthew&#39;.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">document_from_text</span><span class="p">(</span><span class="n">text_content</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity_response</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">analyze_entities</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="n">entity_response</span><span class="o">.</span><span class="n">entities</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;=&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;         name: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">entity</span><span class="o">.</span><span class="n">name</span><span class="p">,))</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;         type: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">entity</span><span class="o">.</span><span class="n">entity_type</span><span class="p">,))</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;     metadata: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">entity</span><span class="o">.</span><span class="n">metadata</span><span class="p">,))</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;     salience: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">entity</span><span class="o">.</span><span class="n">salience</span><span class="p">,))</span>
<span class="go">====================</span>
<span class="go">         name: Michelangelo Caravaggio</span>
<span class="go">         type: PERSON</span>
<span class="go">     metadata: {&#39;wikipedia_url&#39;: &#39;http://en.wikipedia.org/wiki/Caravaggio&#39;}</span>
<span class="go">     salience: 0.7615959</span>
<span class="go">====================</span>
<span class="go">         name: Italian</span>
<span class="go">         type: LOCATION</span>
<span class="go">     metadata: {&#39;wikipedia_url&#39;: &#39;http://en.wikipedia.org/wiki/Caravaggio&#39;}</span>
<span class="go">     salience: 0.19960518</span>
<span class="go">====================</span>
<span class="go">         name: The Calling of Saint Matthew</span>
<span class="go">         type: EVENT</span>
<span class="go">     metadata: {&#39;wikipedia_url&#39;: &#39;http://en.wikipedia.org/wiki/Caravaggio&#39;}</span>
<span class="go">     salience: 0.038798928</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="analyze-sentiment">
<h2>Analyze Sentiment<a class="headerlink" href="#analyze-sentiment" title="Permalink to this headline">#</a></h2>
<p>The <a class="reference internal" href="document.html#google.cloud.language.document.Document.analyze_sentiment" title="google.cloud.language.document.Document.analyze_sentiment"><code class="xref py py-meth docutils literal"><span class="pre">analyze_sentiment()</span></code></a> method
analyzes the sentiment of the provided text and returns a
<a class="reference internal" href="responses.html#google.cloud.language.sentiment.Sentiment" title="google.cloud.language.sentiment.Sentiment"><code class="xref py py-class docutils literal"><span class="pre">Sentiment</span></code></a>. Currently, this method
only supports English text.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">text_content</span> <span class="o">=</span> <span class="s2">&quot;Jogging isn&#39;t very fun.&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">document_from_text</span><span class="p">(</span><span class="n">text_content</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sentiment_response</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">analyze_sentiment</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sentiment</span> <span class="o">=</span> <span class="n">sentiment_response</span><span class="o">.</span><span class="n">sentiment</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">sentiment</span><span class="o">.</span><span class="n">score</span><span class="p">)</span>
<span class="go">-1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">sentiment</span><span class="o">.</span><span class="n">magnitude</span><span class="p">)</span>
<span class="go">0.8</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="annotate-text">
<h2>Annotate Text<a class="headerlink" href="#annotate-text" title="Permalink to this headline">#</a></h2>
<p>The <a class="reference internal" href="document.html#google.cloud.language.document.Document.annotate_text" title="google.cloud.language.document.Document.annotate_text"><code class="xref py py-meth docutils literal"><span class="pre">annotate_text()</span></code></a> method
analyzes a document and is intended for users who are familiar with
machine learning and need in-depth text features to build upon.</p>
<p>The method returns a named tuple with four entries:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">sentences</span></code>: A <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">list</span></code></a> of sentences in the text</li>
<li><code class="docutils literal"><span class="pre">tokens</span></code>: A <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">list</span></code></a> of <a class="reference internal" href="responses.html#google.cloud.language.syntax.Token" title="google.cloud.language.syntax.Token"><code class="xref py py-class docutils literal"><span class="pre">Token</span></code></a>
object (e.g. words, punctuation)</li>
<li><code class="docutils literal"><span class="pre">sentiment</span></code>: The <a class="reference internal" href="responses.html#google.cloud.language.sentiment.Sentiment" title="google.cloud.language.sentiment.Sentiment"><code class="xref py py-class docutils literal"><span class="pre">Sentiment</span></code></a> of
the text (as returned by
<a class="reference internal" href="document.html#google.cloud.language.document.Document.analyze_sentiment" title="google.cloud.language.document.Document.analyze_sentiment"><code class="xref py py-meth docutils literal"><span class="pre">analyze_sentiment()</span></code></a>)</li>
<li><code class="docutils literal"><span class="pre">entities</span></code>: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">list</span></code></a> of <a class="reference internal" href="responses.html#google.cloud.language.entity.Entity" title="google.cloud.language.entity.Entity"><code class="xref py py-class docutils literal"><span class="pre">Entity</span></code></a>
objects extracted from the text (as returned by
<a class="reference internal" href="document.html#google.cloud.language.document.Document.analyze_entities" title="google.cloud.language.document.Document.analyze_entities"><code class="xref py py-meth docutils literal"><span class="pre">analyze_entities()</span></code></a>)</li>
</ul>
<p>By default <a class="reference internal" href="document.html#google.cloud.language.document.Document.annotate_text" title="google.cloud.language.document.Document.annotate_text"><code class="xref py py-meth docutils literal"><span class="pre">annotate_text()</span></code></a> has
three arguments <code class="docutils literal"><span class="pre">include_syntax</span></code>, <code class="docutils literal"><span class="pre">include_entities</span></code> and
<code class="docutils literal"><span class="pre">include_sentiment</span></code> which are all <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-data docutils literal"><span class="pre">True</span></code></a>. However, each of these
<a class="reference external" href="https://cloud.google.com/natural-language/docs/reference/rest/v1beta1/documents/annotateText#Features">Features</a> can be selectively turned off by setting the corresponding
arguments to <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-data docutils literal"><span class="pre">False</span></code></a>.</p>
<p>When <code class="docutils literal"><span class="pre">include_syntax=False</span></code>, <code class="docutils literal"><span class="pre">sentences</span></code> and <code class="docutils literal"><span class="pre">tokens</span></code> in the
response is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-data docutils literal"><span class="pre">None</span></code></a>. When <code class="docutils literal"><span class="pre">include_sentiment=False</span></code>, <code class="docutils literal"><span class="pre">sentiment</span></code> in
the response is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-data docutils literal"><span class="pre">None</span></code></a>. When <code class="docutils literal"><span class="pre">include_entities=False</span></code>, <code class="docutils literal"><span class="pre">entities</span></code> in
the response is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-data docutils literal"><span class="pre">None</span></code></a>.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">text_content</span> <span class="o">=</span> <span class="s1">&#39;The cow jumped over the Moon.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">document_from_text</span><span class="p">(</span><span class="n">text_content</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">annotations</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">annotate_text</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Sentences present if include_syntax=True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">annotations</span><span class="o">.</span><span class="n">sentences</span><span class="p">)</span>
<span class="go">[&#39;The cow jumped over the Moon.&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Tokens present if include_syntax=True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">annotations</span><span class="o">.</span><span class="n">tokens</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%11s</span><span class="s1">: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">token</span><span class="o">.</span><span class="n">part_of_speech</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">text_content</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="go"> DETERMINER: The</span>
<span class="go">       NOUN: cow</span>
<span class="go">       VERB: jumped</span>
<span class="go"> ADPOSITION: over</span>
<span class="go"> DETERMINER: the</span>
<span class="go">       NOUN: Moon</span>
<span class="go">PUNCTUATION: .</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Sentiment present if include_sentiment=True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">annotations</span><span class="o">.</span><span class="n">sentiment</span><span class="o">.</span><span class="n">score</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">annotations</span><span class="o">.</span><span class="n">sentiment</span><span class="o">.</span><span class="n">magnitude</span><span class="p">)</span>
<span class="go">0.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Entities present if include_entities=True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="n">annotations</span><span class="o">.</span><span class="n">entities</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;=&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;         name: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">entity</span><span class="o">.</span><span class="n">name</span><span class="p">,))</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;         type: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">entity</span><span class="o">.</span><span class="n">entity_type</span><span class="p">,))</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;     metadata: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">entity</span><span class="o">.</span><span class="n">metadata</span><span class="p">,))</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;     salience: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">entity</span><span class="o">.</span><span class="n">salience</span><span class="p">,))</span>
<span class="go">====================</span>
<span class="go">         name: Moon</span>
<span class="go">         type: LOCATION</span>
<span class="go">     metadata: {&#39;wikipedia_url&#39;: &#39;http://en.wikipedia.org/wiki/Natural_satellite&#39;}</span>
<span class="go">     salience: 0.11793101</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">google-cloud</a></h1>



<p class="blurb">Google Cloud Client Libraries for Python</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=GoogleCloudPlatform&repo=google-cloud-python&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





    

<p>
<a href="https://travis-ci.org/GoogleCloudPlatform/google-cloud-python">
    <img
        alt="https://secure.travis-ci.org/GoogleCloudPlatform/google-cloud-python.svg?branch=master"
        src="https://secure.travis-ci.org/GoogleCloudPlatform/google-cloud-python.svg?branch=master"
    />
</a>
</p>


<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../core/index.html">Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bigquery/usage.html">BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bigtable/usage.html">Bigtable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datastore/usage.html">Datastore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dns/usage.html">DNS</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Natural Language</a><ul>
<li class="toctree-l2"><a class="reference internal" href="client.html">Natural Language Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="document.html">Document</a></li>
<li class="toctree-l2"><a class="reference internal" href="responses.html">Natural Language Response Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#client">Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="#methods">Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="#analyze-entities">Analyze Entities</a></li>
<li class="toctree-l2"><a class="reference internal" href="#analyze-sentiment">Analyze Sentiment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#annotate-text">Annotate Text</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pubsub/usage.html">Pub / Sub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resource-manager/api.html">Resource Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../runtimeconfig/usage.html">Runtimeconfig</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spanner/usage.html">Spanner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../speech/index.html">Speech</a></li>
<li class="toctree-l1"><a class="reference internal" href="../error-reporting/usage.html">Stackdriver Error Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../monitoring/usage.html">Stackdriver Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logging/usage.html">Stackdriver Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/client.html">Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../translate/usage.html">Translation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vision/index.html">Vision</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../dns/changes.html" title="previous chapter">Change Sets</a></li>
      <li>Next: <a href="client.html" title="next chapter">Natural Language Client</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014-2017, Google.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/language/usage.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/GoogleCloudPlatform/google-cloud-python" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>